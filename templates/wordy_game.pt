<div metal:use-macro="layout">
    <style type="text/css" media="screen" metal:fill-slot="css">
        #wordy_board
        {
            margin: 0;
            padding: 0;
            background-image: url('${request.static_url('dashboard:static/games/wordy/board.png')}');
            background-repeat: no-repeat;
            width: 751px;
            height: 751px;
        }
        
        #wordy_board td
        {
            width: 50px;
            height: 50px;
            margin: 0;
            padding: 0;
            border: 0px solid #000;
        }
        
        .letter,
        .la,
        .lb,
        .lc,
        .ld,
        .le,
        .lf,
        .lg,
        .lh,
        .li,
        .lj,
        .lk,
        .ll,
        .lm,
        .ln,
        .lo,
        .lp,
        .lq,
        .lr,
        .ls,
        .lt,
        .lu,
        .lv,
        .lw,
        .lx,
        .ly,
        .lz
        {
            width: 50px;
            height: 50px;
            background-image:url('${request.static_url('dashboard:static/games/wordy/letters.png')}');
            background-position: 50px 50px;
            background-repeat: no-repeat;
            cursor: pointer;
        }
        
        .la {background-position: -7px -7px;}
        .lb {background-position: -72px -7px;}
        .lc {background-position: -137px -7px;}
        .ld {background-position: -202px -7px;}
        .le {background-position: -267px -7px;}
        .lf {background-position: -332px -7px;}
        .lg {background-position: -397px -7px;}
        .lh {background-position: -462px -7px;}
        .li {background-position: -527px -7px;}
        .lj {background-position: -592px -7px;}
        .lk {background-position: -657px -7px;}
        .ll {background-position: -722px -7px;}
        .lm {background-position: -787px -7px;}
        .ln {background-position: -852px -7px;}
        .lo {background-position: -917px -7px;}
        .lp {background-position: -982px -7px;}
        .lq {background-position: -1047px -7px;}
        .lr {background-position: -1112px -7px;}
        .ls {background-position: -1177px -7px;}
        .lt {background-position: -1242px -7px;}
        .lu {background-position: -1307px -7px;}
        .lv {background-position: -1372px -7px;}
        .lw {background-position: -1437px -7px;}
        .lx {background-position: -1502px -7px;}
        .ly {background-position: -1567px -7px;}
        .lz {background-position: -1632px -7px;}
        
        .draggable_letter
        {
            float:left;
        }
        
        #tray_wrapper
        {
            height: 50px;
            border:1px solid #000;
        }
        
        .letter_tray
        {
            border: 1px solid #F00;
            width: 50px;
            height: 50px;
            display: inline-block;
        }
        
        #wordy_frame
        {
            border: 1px solid #F00;
        }
    </style>
    
    <div metal:fill-slot="content">
        <script type="text/javascript">
            var the_board = ${the_board};
            var player_letters = ${player_letters};
            
            var wordy_move_route = "${request.route_url("games/wordy/make_move", game_id=the_game.id)}";
        </script>
        <script type="text/javascript" src="${request.static_url('dashboard:static/games/wordy/wordy.js')}"></script>
        
        <div id="wordy_frame">
            <div style="float:right; width:340px;">
                <div class="button" id="reset_button">Reset</div>
                <div class="button" id="recall_button">Recall</div>
                
                <br /><br />
                <div class="button" id="submit_button">Submit</div>
            </div>
            <div id="wordy_board">
                &nbsp;
            </div>
            <div id="tray_wrapper">
                &nbsp;
            </div>
        </div>
        <form action="${request.route_url('games/wordy/make_move', game_id=the_game.id)}" method="post" accept-charset="utf-8" id="move_maker_form">
            <input type="hhidden" name="letter${i}" id="letter${i}" value="" tal:repeat="i range(7)" />
            <span id="move_result"></span>
        </form>
    </div>
</div>